digraph G {
    compound=true
    node [shape=mrecord];
    style=rounded
    keyboard -> key_down, key_up
    mouse -> move_x, move_y, btn_left, btn_right, btn_middle, wheel_up, wheel_down
    joystick -> move_left, move_right, move_up, move_down, btn_1, btn_2, btn_3, btn_4
    btn -> btn_down, btn_up
    { node[shape=circle]; user } -> mouse, keyboard, joystick
    mouse -> btn    
    joystick -> btn
}